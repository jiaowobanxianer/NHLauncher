<Window x:Class="LauncherPacker.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="LauncherPacker" Height="450" Width="400" MinWidth="350">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- 菜单 -->
            <RowDefinition Height="*"/>
            <!-- 内容区域 -->
        </Grid.RowDefinitions>

        <!-- 菜单 -->
        <Menu Grid.Row="0">
            <MenuItem Header="文件">
                <MenuItem Header="新建项目" Click="CreateProject"/>
                <MenuItem Header="打开项目" Click="OpenProject"/>
                <MenuItem Header="保存项目" Click="SaveProject"/>
            </MenuItem>
            <MenuItem Header="功能切换">
                <MenuItem Header="上传" Click="Change2Upload"/>
                <MenuItem Header="赋权" Click="Change2Power"/>
                <MenuItem Header="注册" Click="Change2Register"/>
            </MenuItem>
        </Menu>

        <!-- 内容区域 -->
        <Grid Grid.Row="1">
            <Grid.Resources>
                <Style TargetType="TextBox">
                    <Setter Property="Height" Value="30"/>
                    <Setter Property="MinWidth" Value="200"/>
                    <Setter Property="Margin" Value="0,5,0,5"/>
                </Style>
                <Style TargetType="Button">
                    <Setter Property="Height" Value="30"/>
                    <Setter Property="Margin" Value="0,10,0,0"/>
                </Style>
            </Grid.Resources>

            <!-- 上传面板 -->
            <StackPanel x:Name="Uploader" Visibility="Hidden" VerticalAlignment="Top" HorizontalAlignment="Stretch">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBox x:Name="FolderPathTextBox" 
                             IsReadOnly="True" 
                             TextChanged="FolderPathTextBox_TextChanged"
                             ToolTip="选择的文件夹路径"/>
                    <Button x:Name="SelectFolderButton" Content="选择文件夹" Grid.Column="1" Click="SelectFolderButton_Click"/>
                </Grid>

                <TextBlock Text="远程服务器路径：" Margin="0,10,0,0"/>
                <TextBox x:Name="RemoteURLText" TextChanged="RemoteURLText_TextChanged" ToolTip="输入远程服务器路径"/>

                <Button x:Name="GenerateManifest" Content="生成Manifest" Width="120" HorizontalAlignment="Center" Click="GenerateManifestButton_Click"/>

                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <ProgressBar x:Name="progressBar" Height="10" Width="250"/>
                    <TextBlock x:Name="ProgressTextBlock" Text="上传进度：0%" Margin="10,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>

                <Button x:Name="UploadButton" Content="上传" Width="120" HorizontalAlignment="Center" Click="Upload"/>
            </StackPanel>

            <!-- 赋权面板 -->
            <StackPanel x:Name="Power" Visibility="Hidden" VerticalAlignment="Top" HorizontalAlignment="Stretch">
                <TextBlock Text="用户名：" Margin="0,10,0,0"/>
                <TextBox x:Name="UserNameText" ToolTip="输入用户名"/>
                <TextBlock Text="项目名：" Margin="0,10,0,0"/>
                <TextBox x:Name="ProjectNameText" ToolTip="输入赋权项目"/>
                <Button Content="赋权" Click="GivePower" Width="120" HorizontalAlignment="Center"/>
            </StackPanel>

            <!-- 注册面板 -->
            <StackPanel x:Name="Register" Visibility="Visible" VerticalAlignment="Top" HorizontalAlignment="Stretch">
                <TextBlock Text="用户名：" Margin="0,10,0,0"/>
                <TextBox x:Name="UserNameRegisterText" ToolTip="输入注册的用户名"/>
                <TextBlock Text="密码：" Margin="0,10,0,0"/>
                <TextBox x:Name="PasswordText" ToolTip="输入注册密码"/>
                <Button Content="注册" Click="RegisterCommand" Width="120" HorizontalAlignment="Center"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
